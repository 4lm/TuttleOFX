###############################################################################
## Main BJam makefile for libexpat library
## author Eloi Du Bois
###############################################################################

###############################################################################
# Global project requirements
###############################################################################
project
    : requirements
        <os>NT:<define>COMPILED_FROM_DSP
        <os>MACOSX:<define>HAVE_BCOPY
        <define>XML_STATIC
        <include>lib
        <threading>multi
        <link>static
		<toolset>gcc:<cflags>-Wno-switch
        <toolset>darwin:<cflags>-Wno-switch
        # disabling warning as error as we are not responsible for this code
        <warnings-as-errors>off
    : usage-requirements
        <os>NT:<define>COMPILED_FROM_DSP
        <define>XML_STATIC
        <include>lib
    : build-dir $(DIST)/3rdParty/expat/obj
    ;

###############################################################################
# libexpat library
###############################################################################
alias headers : [ glob-tree *.h ] ;

lib expat : 
    [ glob lib/*.c ]
    ;


install dist_src
	:	expat
	:	<variant>debug:<location>$(DIST)/3rdParty/expat/bin/debug
		<variant>release:<location>$(DIST)/3rdParty/expat/bin/release
	;
